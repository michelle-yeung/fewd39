
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Movie Search</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

  </head>
  <body>
    <main>
      <form id="movie-search-form">
        <input type="text" id="query" placeholder="Movie title">
        <button type="submit">Search</button>
      </form>

      <ul id="movies">
        <!--li class="movie">
          <div class="movie-title">
            <a href="http://www.imdb.com/title/tt0106611" target="_blank">
              Cool Runnings
            </a>
          </div>
          <div class="movie-release-date">1993</div>
        </li-->
      </ul>
    </main>

    <script>
    var sampleResult = {
      "Search": [
        {
          "Title": "Cool Runnings",
          "Type": "movie",
          "Year": "1993",
          "imdbID": "tt0106611"
        }
      ]
    }
// Here are the clues to help you get started:

// This is related to the form:
    // 1.)  grab form element
    var form = document.querySelector('#movie-search-form');
    on("submit",formSubmitted)
    // 2.)  add event listener to this form element, on submit, and call the "formSubmitted function"
    form.addEventListener("submit",formSubmitted);

//create the formSubmitted function
//1.)  create the function in the same manner as the ToDo list
    function formSubmitted(event){
      event.preventDefault();
      var query = document.querySelector("#query").value;
// 2.)  Create a var url = "http://omdbapi.com/?s=" + wordthatwasenteredintoinputfield"
      var url = "http://omdbapi.com/?s=" + query;
// 3.)  use the $.get syntax, and be sure to call the "resultsReceived" function --> go to API's URL and run resultsReceived function to pull results
      $.get(url,resultsReceived);
    }
// create the resultsReceived function
// 1.)  this function takes in the parameter of "results"-- results are what the API gives back to you.  --
    // The "results" are in the form of a JSON --> returns array
    function resultsReceived(JSON_results){
        results["Search"].forEach(displayMovie);
    }
// hint:  results["Search"] == returns an array
// hint: loop through this array using forEach(displayMovie)
// actual code: results["Search"].forEach(displayMovie)

// create a function called displayMovie(movie) --> to look inside array, you have to look within to deal with one movie
// 1.) create 4 new elements (li, a, title div, release div)
    function displayMovie(movie) {
      // Create new elements (x4)                                // In jQuery terms:
      var item = document.createElement("li");
      var link = document.createElement("a");
      var title = document.createElement("div");
      var release = document.createElement("div");
// 2.)  Set element text content (x2) to the link and the release
      link.textContent = oneMovie["Title"];
      release.textContent = oneMovie["Year"];
// 3.)  // Set element  attributes (x2) to the URL
  var url = "http://www.imdb.com/title/" + movie["imdbID"];
  //  link.setAttribute (href and the target)
      // Set element attributes (x2)
      link.setAttribute("href",url);
      link.setAttribute("target","_blank");

// 4.)  add CSS to the elements (item, title, release)
// add movie class to item
    item.classList.Add("movie");
// add movie-title to title
    item.classList.Add("title");
// add movie-release-date to release
    item.classList.Add("release");

// 5.)  append elements to the parent
// title-- append the link
    title.appendChild(link);
// item --append title and release
    item.appendChild(title);
// select for "#movies" and append the item element
    item.appendChild("#movies")

    }
    </script>
  </body>
</html>
